// Generated by EmberScript 0.0.7
var get$=Ember.get;Em.onLoad("Ember.Application",function(e){return e.initializer({name:"ember-auth.request.jquery",before:"ember-auth-load",initialize:function(e,t){return t.register("authRequest:jquery",get$(get$(Em,"Auth"),"JqueryAuthRequest"),{singleton:!0}),t.inject("authRequest:jquery","auth","auth:main")}}),e.initializer({name:"ember-auth.request.jquery-load",after:"ember-auth-load",initialize:function(e,t){return e.lookup("authRequest:jquery")}})}),void function(){var e,t=Ember.get,n=Ember.set;e=jQuery,n(t(Em,"Auth"),"JqueryAuthRequest",t(t(Em,"Auth"),"AuthRequest").extend({init:function(){return t(this,"auth").reopen({jqxhr:t(Em,"computed").alias("_request.jqxhr")})},jqxhr:null,signIn:function(t,n){return this.send(t,e.extend(!0,{type:"POST"},n))},signOut:function(t,n){return this.send(t,e.extend(!0,{type:"DELETE"},n))},send:function(r,i){var s,o,u;return s={url:r,dataType:"json"},t(i,"data")&&null==t(i,"contentType")&&(null!=t(i,"type")&&t(i,"type").toUpperCase()!=="GET"&&n(i,"data",JSON.stringify(t(i,"data"))),(null!=t(i,"type")?t(i,"type").toUpperCase():void 0)!=="GET"&&n(s,"contentType","application/json; charset=utf-8")),o=e.extend(!0,s,i),new(t(t(Em,"RSVP"),"Promise"))((u=this,function(r,i){var s,a;return e.ajax(o).done((s=u,function(e,i,o){return n(s,"jqxhr",o),Ember.run(function(){return r(t(o,"responseText"))})})).fail((a=u,function(e){return n(a,"jqxhr",e),Ember.run(function(){return i(t(e,"responseText"))})}))}))}}))}.call(this);